command: "gemini"
args: []
submit_sequence: "\r"
startup_delay: 8
env:
  TERM: "xterm-256color"

# Multi-strategy idle detection configuration
# Gemini: Use timeout-based detection (more reliable than pattern matching)
# Pattern matching is unreliable because prompt patterns may appear in conversation history
idle_detection:
  strategy: "timeout"
  timeout: 3.0               # 3.0 seconds of no output = idle

# WAITING status detection (user input prompts)
# Detects when Gemini is showing numbered choices or asking for input
waiting_detection:
  patterns:
    # Numbered choice indicators
    - "1."
    - "2."
    - "3."
    - "4."
    - "5."
    # Japanese prompts
    - "どれを実行しますか"                    # Which to execute?
    - "番号または"                            # Number or...
    - "選択肢を提案"                          # Propose choices
    - "選択してください"                      # Please select
    # English prompts
    - "Which option"
    - "Enter a number"
  require_idle: true
  idle_timeout: 0.5                           # 500ms no output after pattern
